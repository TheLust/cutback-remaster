<<ng-container *ngIf="loaded">
  <h2 id="title" mat-dialog-title>{{ 'auth.createAccount' | transloco }}</h2>
  <mat-dialog-content>
    <form [formGroup]="form">
      <div id="avatar-container">
        <app-avatar [(file)]="imageBlob"></app-avatar>
      </div>
      <mat-form-field>
        <mat-icon matSuffix>drive_file_rename_outline</mat-icon>
        <mat-label>{{ 'field.firstName' | transloco }}</mat-label>
        <input matInput
               formControlName="firstName">
        <mat-error>{{ getError('firstName') }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-icon matSuffix>drive_file_rename_outline</mat-icon>
        <mat-label>{{ 'field.lastName' | transloco }}</mat-label>
        <input matInput
               formControlName="lastName">
        <mat-error>{{ getError('lastName') }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-icon matSuffix *ngIf="isGender(Gender.MALE)">male</mat-icon>
        <mat-icon matSuffix *ngIf="isGender(Gender.FEMALE)">female</mat-icon>
        <mat-label>{{ 'field.gender' | transloco }}</mat-label>
        <mat-select id="gender-field"
                    formControlName="gender">
          <mat-option [value]="Gender.MALE" >{{ 'gender.male' | transloco }}</mat-option>
          <mat-option [value]="Gender.FEMALE">{{ 'gender.female' | transloco }}</mat-option>
          <mat-option [value]="Gender.OTHER">{{ 'gender.other' | transloco }}</mat-option>
        </mat-select>
        <mat-error>{{ getError('gender') }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{ 'field.birthDate' | transloco }}</mat-label>
        <input matInput
               [matDatepicker]="picker"
               formControlName="birthDate">
        <mat-datepicker-toggle id="birth-date-field-button"
                               matIconSuffix
                               [for]="picker"/>
        <mat-datepicker #picker/>
        <mat-error>{{ getError('birthDate') }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-icon matSuffix>mail_outline</mat-icon>
        <mat-label>{{ 'field.email' | transloco }}</mat-label>
        <input matInput
               formControlName="email">
        <mat-error>{{ getError('email') }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-icon matSuffix>local_phone</mat-icon>
        <mat-label>{{ 'field.phoneNumber' | transloco }}</mat-label>
        <ngx-mat-input-tel [enableSearch]="true"
                           [preferredCountries]="['md', 'ro']"
                           formControlName="phoneNumber"/>
        <mat-error>{{ getError('phoneNumber') }}</mat-error>
      </mat-form-field>
    </form>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button
            [disabled]="spinner"
            (click)="cancel()">
      {{ 'auth.cancel' | transloco }}
    </button>
    <button mat-button
            [disabled]="spinner"
            (click)="createAccount()">
      {{ 'auth.finish' | transloco }}
    </button>
  </mat-dialog-actions>
</ng-container>
